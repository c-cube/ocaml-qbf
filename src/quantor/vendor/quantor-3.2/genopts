#!/bin/sh

echo "/* generated by 'genopts' from 'options.sh' */"
echo "/* DO NOT EDIT!  EDIT 'options.sh' INSTEAD */"

while true
do
  read assignment
  [ X`echo "$assignment"|sed -e 's,[^#],,g'` = X ] || continue
  name=`expr "$assignment" : 'QUANTOR_\(.*\)='`
  val=`expr "$assignment" : '.*=\([-0-9\.]*\)'`
  [ "X$name" = X ] && break
  env="QUANTOR_$name"
  fld=`echo $name | tr '[A-Z]' '[a-z]'`
  opt=`echo $name | tr '[A-Z]_' '[a-z]-'`
  case $val in
    *.*) type=d;;
    *) type=i;;
  esac
  echo "${type}opt (quantor,	\"$env\","
  echo "		\"--$opt=\","
  echo "		$val,"
  echo "		&quantor->opts.$fld);"
done
